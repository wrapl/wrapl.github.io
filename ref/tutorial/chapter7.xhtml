<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/>
	<meta charset="utf-8"/>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
	<meta name="description" content=""/>
	<meta name="author" content="ink, cookbook, recipes"/>
	<meta name="HandheldFriendly" content="True"/>
	<meta name="MobileOptimized" content="320"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
	<meta property="og:title" content="Wrapl, The Programming Language"/>
	<meta property="og:description" content="Wrapl, The Programming Language"/>
	<meta property="og:url" content="http://wrapl.sf.net"/>
	<meta property="og:image" content="http://wrapl.sf.net/sample.png"/>
	<link rel="stylesheet" type="text/css" href="/css/spectre.css"/>
	<link rel="stylesheet" type="text/css" href="/css/spectre-exp.css"/>
	<link rel="stylesheet" type="text/css" href="/css/spectre-icons.css"/>
	<link rel="stylesheet" type="text/css" href="/code.css"/>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous"/>
	<link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono" rel="stylesheet"/>
	<link href="https://fonts.googleapis.com/css?family=Fira+Sans" rel="stylesheet"/>
	<link rel="stylesheet" href="https://cdn.rawgit.com/tonsky/FiraCode/1.205/distr/fira_code.css"/>
	<title>Chapter 7</title>
</head>
<body>
<div class="off-canvas off-canvas-sidebar-show">
	<a class="off-canvas-toggle btn btn-primary btn-action" href="#sidebar-id">
		<i class="icon icon-menu"></i>
	</a>
	<div id="sidebar-id" class="off-canvas-sidebar">
		<ul class="nav">
			<li class="nav-item"><a href="/index.xhtml" class="toplevel"><i class="fa fa-home"></i> Home</a>
				<ul class="nav">
					<li class="nav-item"><a href="/index.xhtml#Features">Features</a></li>
					<li class="nav-item"><a href="/index.xhtml#Contact">Contact</a></li>
				</ul>
			</li>
			<li class="nav-item"><a href="/news.xhtml" class="toplevel"><i class="fa fa-clock"></i> News</a></li>
			<li class="nav-item"><a href="/docs.xhtml" class="toplevel"><i class="fa fa-book"></i> Documentation</a>
				<ul class="nav">
					<li class="nav-item"><a href="/ref/tutorial.xhtml">Tutorial</a></li>
					<li class="nav-item"><a href="/docs.xhtml#Reference">Reference</a>
						<ul class="nav flyout right">
							<li class="nav-item"><a href="/ref/syntax.xhtml">Syntax</a></li>
							<li class="nav-item"><a href="/ref/expressions.xhtml">Expressions</a></li>
						</ul>
					</li>
					<li class="nav-item"><a href="/samples.xhtml">Sample</a></li>
					<li class="nav-item"><a href="/lib.xhtml">Libraries</a></li>
					<li class="nav-item"><a href="/docs.xhtml#tools">Tools</a></li>
					<li class="nav-item"><a href="/internals.xhtml">Internals</a></li>
				</ul>
			</li>
			<li class="nav-item"><a href="/download.xhtml" class="toplevel"><i class="fa fa-download"></i> Download</a>
				<ul class="nav">
					<li class="nav-item"><a href="/download.xhtml#Source">Source</a></li>
					<li class="nav-item"><a href="/download.xhtml#Binaries">Binaries</a></li>
				</ul>
			</li>
			<li class="nav-item"><a href="/links.xhtml" class="toplevel"><i class="fa fa-globe"></i> Links</a>
				<ul class="nav">
					<li class="nav-item"><a href="/links.xhtml#Programming_Languages">Other Languages</a></li>
					<li class="nav-item"><a href="/links.xhtml#Development_Tools">Development Tools</a></li>
					<li class="nav-item"><a href="/links.xhtml#Libraries">Libraries</a></li>
				</ul>
			</li>
		</ul>
	</div>
	<a class="off-canvas-overlay" href="#close"></a>
	<div class="off-canvas-content">
		<h1 id="title"><img src="/logo.png" alt="W"/> Wrapl, The Programming Language</h1>

<section id="Chapter_7" class="section"><h2>Chapter 7</h2>
<section id="Modules" data-spy="true" data-target="#side-menu"><h3>Modules</h3>

<p>Code in Wrapl can be separated into modules. Each module consists of any number of variable and/or constant declarations, any of which can be exported allowing their use in other modules. To export a variable or constant, follow its declaration with an exclamation mark, <span class="code"><span class="delimiter">!</span></span>. To use such an exported variable/constant in another module, you can use an import declaration. For example:</p>

<div class="code"><span class="lineno">   1</span><span class="keyword">MOD</span> <span class="var">Mod1</span><span class="delimiter">;</span>
<span class="lineno">   2</span> 
<span class="lineno">   3</span><span class="keyword">IMP</span> <span class="var">IO</span><span class="delimiter">.</span><span class="var">Terminal</span><span class="delimiter">;</span>
<span class="lineno">   4</span> 
<span class="lineno">   5</span><span class="keyword">DEF</span> <span class="var">f</span><span class="delimiter">!(</span><span class="var">x</span><span class="delimiter">)</span> <span class="delimiter">(</span>
<span class="lineno">   6</span>    <span class="var">Terminal</span><span class="delimiter">.</span><span class="var">Out</span><span class="symbol">:write</span><span class="delimiter">(</span><span class="literal">"x = "</span><span class="delimiter">);</span>
<span class="lineno">   7</span>    <span class="var">Terminal</span><span class="delimiter">.</span><span class="var">Out</span><span class="symbol">:write</span><span class="delimiter">(</span><span class="var">x</span><span class="delimiter">);</span>
<span class="lineno">   8</span>    <span class="var">Terminal</span><span class="delimiter">.</span><span class="var">Out</span><span class="symbol">:write</span><span class="delimiter">(</span><span class="literal">"\n"</span><span class="delimiter">);</span>
<span class="lineno">   9</span><span class="delimiter">);</span>
<span class="lineno">  10</span> 
<span class="lineno">  11</span><span class="keyword">END</span> <span class="var">Mod1</span><span class="delimiter">.</span></div>

is a module which exports a single constant, <span class="code"><span class="var">f</span></span>. In addition, it imports the module <a class="id" href="/lib/IO.xhtml#Terminal">IO.Terminal</a> and uses the constant <span class="code"><span class="var">Out</span></span> exported by that module.

If you use the same imported variable/constant repeatedly, you can define the name of that variable/constant in the current scope by using a <span class="code"><span class="keyword">USE</span></span> clause.

<div class="code"><span class="lineno">   1</span><span class="keyword">MOD</span> <span class="var">Mod1</span><span class="delimiter">;</span>
<span class="lineno">   2</span> 
<span class="lineno">   3</span><span class="keyword">IMP</span> <span class="var">IO</span><span class="delimiter">.</span><span class="var">Terminal</span> <span class="keyword">USE</span> <span class="var">Out</span><span class="delimiter">;</span>
<span class="lineno">   4</span> 
<span class="lineno">   5</span><span class="keyword">DEF</span> <span class="var">f</span><span class="delimiter">!(</span><span class="var">x</span><span class="delimiter">)</span> <span class="delimiter">(</span>
<span class="lineno">   6</span>    <span class="var">Out</span><span class="symbol">:write</span><span class="delimiter">(</span><span class="literal">"x = "</span><span class="delimiter">);</span>
<span class="lineno">   7</span>    <span class="var">Out</span><span class="symbol">:write</span><span class="delimiter">(</span><span class="var">x</span><span class="delimiter">);</span>
<span class="lineno">   8</span>    <span class="var">Out</span><span class="symbol">:write</span><span class="delimiter">(</span><span class="literal">"\n"</span><span class="delimiter">);</span>
<span class="lineno">   9</span><span class="delimiter">);</span>
<span class="lineno">  10</span> 
<span class="lineno">  11</span><span class="keyword">END</span> <span class="var">Mod1</span><span class="delimiter">.</span></div>

The full list of modules that are provided with Wrapl can be found in the Libraries Reference.

<h4 id="Imports_and_Exports">Imports and Exports</h4>


</section>

<section id="Variables_and_Constants" data-spy="true" data-target="#side-menu"><h3>Variables and Constants</h3>
<p>In Wrapl, all identifiers must be declared. Variables are declared as <span class="code"><span class="keyword">VAR</span> <span class="var">name</span><span class="delimiter">;</span></span>. This declares a new variable name in the current scope, which will be initialized to <a class="id" href="/lib/Std/Object.xhtml#Nil">NIL</a>. A variable can optionally be initialized when declared, <span class="code"><span class="keyword">VAR</span> <span class="var">name</span> <span class="delimiter">&lt;-</span> <span class="var">value</span><span class="delimiter">;</span></span>.</p>

<p>Variables can be used at any point within the scope they are declared in, even before the actual declarations (i.e. foward declarations are unnecessary). However, the variable is only assigned its initial value at the actual declaration, prior to this it will have the value <a class="id" href="/lib/Std/Object.xhtml#Nil">NIL</a>. For example:</p>

<div class="code"><span class="lineno">   1</span><span class="var">Out</span><span class="symbol">:writes</span><span class="delimiter">(</span><span class="literal">"x = "</span><span class="delimiter">,</span> <span class="var">x</span><span class="delimiter">,</span> <span class="literal">"\n"</span><span class="delimiter">);</span>
<span class="lineno">   2</span><span class="keyword">VAR</span> <span class="var">x</span> <span class="delimiter">&lt;-</span> 200<span class="delimiter">;</span>
<span class="lineno">   3</span><span class="var">Out</span><span class="symbol">:writes</span><span class="delimiter">(</span><span class="literal">"x = "</span><span class="delimiter">,</span> <span class="var">x</span><span class="delimiter">,</span> <span class="literal">"\n"</span><span class="delimiter">);</span></div>

will output

<div class="term">x = NIL
x = 200
</div>

<p>The alternative syntax <span class="code"><span class="keyword">VAR</span> <span class="var">name</span><span class="delimiter">(</span><span class="var">parameters</span><span class="delimiter">)</span> <span class="var">body</span><span class="delimiter">;</span></span> can be used to initialize a variable to hold a function. For example:</p>

<div class="code"><span class="lineno">   1</span><span class="keyword">VAR</span> <span class="var">fact</span> <span class="delimiter">&lt;-</span> <span class="delimiter">&lt;</span><span class="var">n</span><span class="delimiter">&gt;</span> <span class="delimiter">(</span>
<span class="lineno">   2</span>    <span class="keyword">VAR</span> <span class="var">r</span> <span class="delimiter">&lt;-</span> 1<span class="delimiter">;</span>
<span class="lineno">   3</span>    <span class="keyword">EVERY</span> <span class="var">r</span> <span class="delimiter">&lt;-</span> <span class="var">r</span> <span class="delimiter">*</span> 1<span class="symbol">:to</span><span class="delimiter">(</span><span class="var">n</span><span class="delimiter">);</span>
<span class="lineno">   4</span>    <span class="keyword">RET</span> <span class="var">r</span><span class="delimiter">;</span>
<span class="lineno">   5</span><span class="delimiter">);</span></div>

can be written as

<div class="code"><span class="lineno">   1</span><span class="keyword">VAR</span> <span class="var">f</span><span class="delimiter">(</span><span class="var">n</span><span class="delimiter">)</span> <span class="delimiter">(</span>
<span class="lineno">   2</span>    <span class="keyword">VAR</span> <span class="var">r</span> <span class="delimiter">&lt;-</span> 1<span class="delimiter">;</span>
<span class="lineno">   3</span>    <span class="keyword">EVERY</span> <span class="var">r</span> <span class="delimiter">&lt;-</span> <span class="var">r</span> <span class="delimiter">*</span> 1<span class="symbol">:to</span><span class="delimiter">(</span><span class="var">n</span><span class="delimiter">);</span>
<span class="lineno">   4</span>    <span class="keyword">RET</span> <span class="var">r</span><span class="delimiter">;</span>
<span class="lineno">   5</span><span class="delimiter">);</span></div>

<p>Constants can be declared in Wrapl using <span class="code"><span class="keyword">DEF</span></span> instead of <span class="code"><span class="keyword">VAR</span></span>. All constants must be given an initial value when declared, however a constant is assigned its initial value before any variables are initialized or any other expressions are evaluated in the same scope. For example:</p>

<div class="code"><span class="lineno">   1</span><span class="var">Out</span><span class="symbol">:writes</span><span class="delimiter">(</span><span class="literal">"x = "</span><span class="delimiter">,</span> <span class="var">x</span><span class="delimiter">,</span> <span class="literal">"\n"</span><span class="delimiter">);</span>
<span class="lineno">   2</span><span class="keyword">DEF</span> <span class="var">x</span> <span class="delimiter">&lt;-</span> 200<span class="delimiter">;</span>
<span class="lineno">   3</span><span class="var">Out</span><span class="symbol">:writes</span><span class="delimiter">(</span><span class="literal">"x = "</span><span class="delimiter">,</span> <span class="var">x</span><span class="delimiter">,</span> <span class="literal">"\n"</span><span class="delimiter">);</span></div>

will output

<div class="term">x = 200
x = 200
</div>

</section>

</section>


		<footer>
			<div class="text-center">
				<span>Copyright: &copy; 2008-2018 Raja Mukherji</span>
			</div>
		</footer>
	</div>
</div>
</body>
</html>
